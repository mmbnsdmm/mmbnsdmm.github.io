(self.webpackChunktest4vuecli=self.webpackChunktest4vuecli||[]).push([[7720],{36942:function(t,e,i){var r=i(5437);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[t.id,r,""]]),r.locals&&(t.exports=r.locals);(0,i(56).Z)("b4c89588",r,!0,{sourceMap:!1,shadowMode:!1})},77720:function(t,e,i){"use strict";i.d(e,{Z:function(){return s}});var r={name:"uniFormsItem",options:{virtualHost:!0},provide(){return{uniFormItem:this}},inject:{form:{from:"uniForm",default:null}},props:{rules:{type:Array,default(){return null}},name:{type:[String,Array],default:""},required:{type:Boolean,default:!1},label:{type:String,default:""},labelWidth:{type:[String,Number],default:""},labelAlign:{type:String,default:""},errorMessage:{type:[String,Boolean],default:""},leftIcon:String,iconColor:{type:String,default:"#606266"}},data(){return{errMsg:"",userRules:null,localLabelAlign:"left",localLabelWidth:"65px",localLabelPos:"left",border:!1,isFirstBorder:!1}},computed:{msg(){return this.errorMessage||this.errMsg}},watch:{"form.formRules"(t){this.init()},"form.labelWidth"(t){this.localLabelWidth=this._labelWidthUnit(t)},"form.labelPosition"(t){this.localLabelPos=this._labelPosition()},"form.labelAlign"(t){}},created(){this.init(!0),this.name&&this.form&&this.$watch((()=>this.form._getDataValue(this.name,this.form.localData)),((t,e)=>{if(!this.form._isEqual(t,e)){const e=this.itemSetValue(t);this.onFieldChange(e,!1)}}),{immediate:!1})},destroyed(){this.__isUnmounted||this.unInit()},methods:{setRules(t=null){this.userRules=t,this.init(!1)},setValue(){},async onFieldChange(t,e=!0){const{formData:i,localData:r,errShowType:s,validateCheck:n,validateTrigger:o,_isRequiredField:a,_realName:l}=this.form,u=l(this.name);t||(t=this.form.formData[u]);const f=this.itemRules.rules&&this.itemRules.rules.length;if(!this.validator||!f||0===f)return;const d=a(this.itemRules.rules||[]);let m=null;return"bind"===o||e?(m=await this.validator.validateUpdate({[u]:t},i),d||void 0!==t&&""!==t||(m=null),m&&m.errorMessage?("undertext"===s&&(this.errMsg=m?m.errorMessage:""),"toast"===s&&uni.showToast({title:m.errorMessage||"校验错误",icon:"none"}),"modal"===s&&uni.showModal({title:"提示",content:m.errorMessage||"校验错误"})):this.errMsg="",n(m||null)):this.errMsg="",m||null},init(t=!1){const{validator:e,formRules:i,childrens:r,formData:s,localData:n,_realName:o,labelWidth:a,_getDataValue:l,_setDataValue:u}=this.form||{};if(this.localLabelAlign=this._justifyContent(),this.localLabelWidth=this._labelWidthUnit(a),this.localLabelPos=this._labelPosition(),this.form&&t&&r.push(this),!e||!i)return;this.form.isFirstBorder||(this.form.isFirstBorder=!0,this.isFirstBorder=!0),this.group&&(this.group.isFirstBorder||(this.group.isFirstBorder=!0,this.isFirstBorder=!0)),this.border=this.form.border;const f=o(this.name),d=this.userRules||this.rules;"object"==typeof i&&d&&(i[f]={rules:d},e.updateSchema(i));const m=i[f]||{};this.itemRules=m,this.validator=e,this.itemSetValue(l(this.name,n))},unInit(){if(this.form){const{childrens:t,formData:e,_realName:i}=this.form;t.forEach(((t,r)=>{t===this&&(this.form.childrens.splice(r,1),delete e[i(t.name)])}))}},itemSetValue(t){const e=this.form._realName(this.name),i=this.itemRules.rules||[],r=this.form._getValue(e,t,i);return this.form._setDataValue(e,this.form.formData,r),r},clearValidate(){this.errMsg=""},_isRequired(){return this.required},_justifyContent(){if(this.form){const{labelAlign:t}=this.form;let e=this.labelAlign?this.labelAlign:t;if("left"===e)return"flex-start";if("center"===e)return"center";if("right"===e)return"flex-end"}return"flex-start"},_labelWidthUnit(t){return this.num2px(this.labelWidth?this.labelWidth:t||(this.label?65:"auto"))},_labelPosition(){return this.form&&this.form.labelPosition||"left"},isTrigger(t,e,i){return"submit"!==t&&t?"bind":void 0===t?"bind"!==e?e?"submit":""===i?"bind":"submit":"bind":"submit"},num2px(t){return"number"==typeof t?`${t}px`:t}}},s=(i(36942),(0,i(69453).Z)(r,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"uni-forms-item",class:["is-direction-"+t.localLabelPos,t.border?"uni-forms-item--border":"",t.border&&t.isFirstBorder?"is-first-border":""]},[t._t("label",[i("v-uni-view",{staticClass:"uni-forms-item__label",class:{"no-label":!t.label&&!t.required},style:{width:t.localLabelWidth,justifyContent:t.localLabelAlign}},[t.required?i("v-uni-text",{staticClass:"is-required"},[t._v("*")]):t._e(),i("v-uni-text",[t._v(t._s(t.label))])],1)]),i("v-uni-view",{staticClass:"uni-forms-item__content"},[t._t("default"),i("v-uni-view",{staticClass:"uni-forms-item__error",class:{"msg--active":t.msg}},[i("v-uni-text",[t._v(t._s(t.msg))])],1)],2)],2)}),[],!1,null,"63b07f27",null,!1,undefined,undefined).exports)},5437:function(t,e,i){"use strict";i.r(e);var r=i(43481),s=i.n(r),n=i(2400),o=i.n(n)()(s());o.push([t.id,"@import url(https://at.alicdn.com/t/c/font_3814524_b71c6o96iok.css);"]),o.push([t.id,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 需要放到文件最上面 */\n/* 水平间距 */\n/* 水平间距 */\n/*\n 以下变量是默认值，如不需要修改可以不用给下面的变量重新赋值\n */\n/* 水平间距 */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */\n/* iconfont */.uni-forms-item[data-v-63b07f27]{position:relative;display:flex;margin-bottom:22px;flex-direction:row}.uni-forms-item__label[data-v-63b07f27]{display:flex;flex-direction:row;align-items:center;text-align:left;font-size:14px;color:#606266;height:36px;padding:0 12px 0 0;vertical-align:middle;flex-shrink:0;box-sizing:border-box}.uni-forms-item__label.no-label[data-v-63b07f27]{padding:0}.uni-forms-item__content[data-v-63b07f27]{position:relative;font-size:14px;flex:1;box-sizing:border-box;flex-direction:row}.uni-forms-item .uni-forms-item__nuve-content[data-v-63b07f27]{display:flex;flex-direction:column;flex:1}.uni-forms-item__error[data-v-63b07f27]{color:#f56c6c;font-size:12px;line-height:1;padding-top:4px;position:absolute;top:100%;left:0;transition:-webkit-transform .3s;transition:transform .3s;transition:transform .3s,-webkit-transform .3s;-webkit-transform:translateY(-100%);transform:translateY(-100%);opacity:0}.uni-forms-item__error .error-text[data-v-63b07f27]{color:#f56c6c;font-size:12px}.uni-forms-item__error.msg--active[data-v-63b07f27]{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}.uni-forms-item.is-direction-left[data-v-63b07f27]{flex-direction:row}.uni-forms-item.is-direction-top[data-v-63b07f27]{flex-direction:column}.uni-forms-item.is-direction-top .uni-forms-item__label[data-v-63b07f27]{padding:0 0 8px;line-height:1.5715;text-align:left;white-space:normal}.uni-forms-item .is-required[data-v-63b07f27]{color:#dd524d;font-weight:700}.uni-forms-item--border[data-v-63b07f27]{margin-bottom:0;padding:10px 0;border-top:1px #eee solid}.uni-forms-item--border .uni-forms-item__content[data-v-63b07f27]{flex-direction:column;justify-content:flex-start;align-items:flex-start}.uni-forms-item--border .uni-forms-item__content .uni-forms-item__error[data-v-63b07f27]{position:relative;top:5px;left:0;padding-top:0}.is-first-border[data-v-63b07f27]{border:none}',""]),e.default=o}}]);