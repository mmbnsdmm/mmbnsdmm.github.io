"use strict";(self.webpackChunktest4vuecli=self.webpackChunktest4vuecli||[]).push([[970],{60914:function(e,n,t){t.r(n),t.d(n,{default:function(){return u}});var a,i={uniSection:t(54782).Z,uAlert:t(16480).Z,uSkeleton:t(23582).Z,uLine:t(43996).Z,uButton:t(1445).Z,uniRow:t(50447).Z,uniCol:t(63933).Z,"u-Text":t(4827).Z},s=t(4587),r=(t(35666),{name:"UserWalletCzOrderInfo",beforeCreate:function(){a=this},mounted:function(){a.czOrderInfo()},data:function(){return{loading:!0,isRePay:!1,canRePayCoutdown:"",payChannel:{openType:0,payUrl:"",payQrcodeUrl:""},isQrcodeShow:!1,czOrder:{}}},watch:{canRePayCoutdown:function(e){e<=0&&(a.canRePayCoutdown="")}},methods:{czOrderInfo:function(){var e=arguments;return(0,s.Z)(regeneratorRuntime.mark((function n(){var t,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.length>0&&void 0!==e[0]&&e[0],n.next=3,a.$api.post("/user/wallet/cz-order-info",{id:a.$route.query.id});case 3:i=n.sent,a.czOrder=i.order,a.payChannel=i.payChannel,a.loading=!1,!1===t&&"user_wallet_CzOrderInfo"===a.$route.query.fromPage&&a.rePay();case 8:case"end":return n.stop()}}),n)})))()},isQrcodeShowFun:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];a.isQrcodeShow=e},rePay:function(){switch(a.payChannel.openType){case a.$enums.components.woPay.payType.WEBVIEW[0]:a.isRePay=!0,a.canRePayCoutdown=15;var e=setInterval((function(){(a.canRePayCoutdown<=0||""===a.canRePayCoutdown)&&clearInterval(e),a.canRePayCoutdown--}),1e3);setTimeout((function(){a.isRePay=!1}),15e3);break;case a.$enums.components.woPay.payType.BLANK[0]:window.location.href=a.payChannel.payUrl}},newCzApply:function(){uni.navigateTo({url:"/pages/user/wallet/Cz"})}}}),o=r,c=(0,t(69453).Z)(o,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-uni-view",{staticClass:"container"},[t("uni-section",{attrs:{title:"充值订单详细",type:"line"}}),t("v-uni-view",{class:{"p-[15px]":!0}},[t("u-alert",{attrs:{title:"提示",type:"info",description:"你可以点击刷新来更新订单状态。\\n如果不能挑转支付宝，你可以用支付宝扫描二维码支付。"}}),t("v-uni-view",{class:{"pb-[15px]":!0}}),t("v-uni-view",[t("span",[e._v("你的余额：")]),t("span",{staticClass:"float-right"},[e._v("￥ "+e._s(e.$store.getters["Auth/getUserInfo"].balance))])]),t("v-uni-view",{class:{"pb-[15px]":!0}}),t("u-skeleton",{attrs:{loading:e.loading,rows:7}},[t("v-uni-view",[t("v-uni-view",{staticClass:"float-right"})],1),t("u-line"),t("v-uni-view",[t("span",[e._v("订单号:")]),t("span",{staticClass:"float-right"},[t("i",{staticClass:"iconfont xuba5-fuzhi",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.$tool.copyText(e.czOrder.orderno)}}})]),t("span",{staticClass:"float-right"},[e._v(e._s(e.czOrder.orderno))])]),t("u-line"),t("v-uni-view",[t("span",[e._v("金额:")]),t("span",{staticClass:"float-right"},[e._v("￥ "+e._s(e.czOrder.amount))])]),t("u-line"),t("v-uni-view",[t("span",[e._v("支付渠道:")]),t("span",{staticClass:"float-right"},[e._v(e._s(e.czOrder._channel))])]),t("u-line"),t("v-uni-view",[t("span",[e._v("订单状态:")]),t("span",{staticClass:"float-right"},[e._v(e._s(e.czOrder._status_desc))])]),t("u-line"),t("v-uni-view",[t("span",[e._v("下单时间:")]),t("span",{staticClass:"float-right"},[e._v(e._s(e.czOrder._created_at))])]),t("u-line"),t("v-uni-view",[t("span",[e._v("付款时间:")]),t("span",{staticClass:"float-right"},[e._v(e._s(e.czOrder._paid_at))])]),t("u-line"),t("v-uni-view",[t("span",[e._v("取消时间:")]),t("span",{staticClass:"float-right"},[e._v(e._s(e.czOrder._cancel_at))])]),t("u-line"),1===e.czOrder._status?t("v-uni-view",[t("span",[e._v("支付二维码:")]),t("span",{staticClass:"float-right"},[e.isQrcodeShow?e._e():t("u-button",{staticStyle:{width:"fit-content"},attrs:{size:"mini",type:"primary"},on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.isQrcodeShowFun(!0)}}},[e._v("展示")]),e.isQrcodeShow?t("u-button",{staticStyle:{width:"fit-content"},attrs:{size:"mini",type:"info"},on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.isQrcodeShowFun(!1)}}},[e._v("隐藏")]):e._e()],1),e.isQrcodeShow?t("v-uni-image",{attrs:{mode:"aspectFit",src:e.payChannel.payQrcodeUrl}}):e._e()],1):e._e(),t("u-line")],1),t("v-uni-view",{class:{"pb-[15px]":!0}}),t("u-line"),e.czOrder.channel===e.$enums.order.cz.payChannel.alipay[0]&&1===e.czOrder._status?t("u-button",{attrs:{type:"error",disabled:e.isRePay||!e.czOrder._can_pay},on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.rePay.apply(void 0,arguments)}}},[e._v("重新付款"+e._s(e.canRePayCoutdown))]):e._e(),t("u-button",{attrs:{type:"primary"},on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.czOrderInfo.apply(void 0,arguments)}}},[e._v("刷新")]),t("u-button",{attrs:{type:"success"},on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.newCzApply()}}},[e._v("再充一笔")]),t("u-button",{attrs:{type:"warning"},on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.$router.push("/pages/user/wallet/Tx")}}},[e._v("提现")]),t("v-uni-view",{class:{"pb-[15px]":!0}}),t("uni-row",[t("uni-col",{attrs:{span:8}},[t("u--text",{attrs:{calss:"w-fit",type:"info",decoration:"underline",text:"首页"},on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.$router.push("/pages/site/Index")}}})],1),t("uni-col",{attrs:{span:8}},[t("u--text",{attrs:{calss:"w-fit",type:"info",decoration:"underline",text:"个人中心"},on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.$router.push("/pages/user/center/Center")}}})],1),t("uni-col",{attrs:{span:8}},[t("u--text",{attrs:{calss:"w-fit",type:"info",decoration:"underline",text:"充值记录"},on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.$router.push("/pages/user/wallet/CzList")}}})],1)],1),e.czOrder.channel===e.$enums.order.cz.payChannel.alipay[0]&&e.isRePay?t("v-uni-web-view",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{src:e.payChannel.payUrl,fullscreen:!1}}):e._e()],1)],1)}),[],!1,null,"4b9ad8f8",null,!1,i,undefined),u=c.exports}}]);